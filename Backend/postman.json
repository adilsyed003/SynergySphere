{
  "info": {
    "name": "synergysphereBackend API",
    "description": "API documentation for synergyspherebackend with JWT and API Key authentication.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:11000" },
    { "key": "token", "value": "" },
    { "key": "apiKey", "value": "" }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Signup",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": { "raw": "{{baseUrl}}/api/auth/signup", "host": ["{{baseUrl}}"], "path": ["api", "auth", "signup"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\",\n  \"name\": \"User Name\",\n  \"organization\": {\n    \"name\": \"Org Name\",\n    \"description\": \"Desc\",\n    \"contactPhone\": \"1234567890\",\n    \"address\": \"Address\"\n  }\n}"
            }
          },
          "response": [
            {
              "name": "201 Created",
              "originalRequest": {},
              "status": "Created",
              "code": 201,
              "body": "{\n  \"user\": {\n    \"id\": \"...\",\n    \"email\": \"user@example.com\",\n    \"name\": \"User Name\",\n    \"organizationId\": \"...\",\n    \"role\": \"admin\"\n  },\n  \"organization\": {\n    \"id\": \"...\",\n    \"name\": \"Org Name\"\n  },\n  \"token\": \"...\"\n}"
            }
          ]
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": { "raw": "{{baseUrl}}/api/auth/login", "host": ["{{baseUrl}}"], "path": ["api", "auth", "login"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\"\n}"
            }
          },
          "response": [
            {
              "name": "200 OK",
              "originalRequest": {},
              "status": "OK",
              "code": 200,
              "body": "{\n  \"user\": {\n    \"id\": \"...\",\n    \"email\": \"user@example.com\",\n    \"name\": \"User Name\",\n    \"organizationId\": \"...\",\n    \"organizationName\": \"Org Name\",\n    \"role\": \"admin\"\n  },\n  \"token\": \"...\"\n}"
            }
          ]
        },
        {
          "name": "Create Test Account",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": { "raw": "{{baseUrl}}/api/auth/create-test-account", "host": ["{{baseUrl}}"], "path": ["api", "auth", "create-test-account"] }
          }
        },
        {
          "name": "Create Second Org",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": { "raw": "{{baseUrl}}/api/auth/create-second-org", "host": ["{{baseUrl}}"], "path": ["api", "auth", "create-second-org"] }
          }
        }
      ]
    },
    {
      "name": "Employees",
      "item": [
        {
          "name": "Create Employee",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/employees", "host": ["{{baseUrl}}"], "path": ["api", "employees"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Doe\",\n  \"position\": \"Developer\",\n  \"department\": \"IT\",\n  \"email\": \"john@example.com\",\n  \"hireDate\": \"2024-06-01\",\n  \"salary\": 50000,\n  \"contact\": \"1234567890\",\n  \"joiningDate\": \"2024-06-01\"\n}"
            }
          }
        },
        {
          "name": "Get All Employees",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/employees", "host": ["{{baseUrl}}"], "path": ["api", "employees"] }
          }
        },
        {
          "name": "Get Employee By ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/employees/:id", "host": ["{{baseUrl}}"], "path": ["api", "employees", ":id"] }
          }
        },
        {
          "name": "Update Employee",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/employees/:id", "host": ["{{baseUrl}}"], "path": ["api", "employees", ":id"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"position\": \"Senior Developer\"\n}"
            }
          }
        },
        {
          "name": "Delete Employee",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/employees/:id", "host": ["{{baseUrl}}"], "path": ["api", "employees", ":id"] }
          }
        }
      ]
    },
    {
      "name": "Projects",
      "item": [
        {
          "name": "Create Project",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/projects", "host": ["{{baseUrl}}"], "path": ["api", "projects"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Project X\",\n  \"description\": \"Project description\",\n  \"startDate\": \"2024-06-01\",\n  \"endDate\": \"2024-12-31\",\n  \"status\": \"active\",\n  \"assignedEmployees\": []\n}"
            }
          }
        },
        {
          "name": "Get All Projects",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/projects", "host": ["{{baseUrl}}"], "path": ["api", "projects"] }
          }
        },
        {
          "name": "Get Project By ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/projects/:id", "host": ["{{baseUrl}}"], "path": ["api", "projects", ":id"] }
          }
        },
        {
          "name": "Update Project",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/projects/:id", "host": ["{{baseUrl}}"], "path": ["api", "projects", ":id"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"completed\"\n}"
            }
          }
        },
        {
          "name": "Delete Project",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/projects/:id", "host": ["{{baseUrl}}"], "path": ["api", "projects", ":id"] }
          }
        },
        {
          "name": "Get Project Tasks",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/projects/:id/tasks", "host": ["{{baseUrl}}"], "path": ["api", "projects", ":id", "tasks"] }
          }
        }
      ]
    },
    {
      "name": "Tasks",
      "item": [
        {
          "name": "Create Task",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/tasks", "host": ["{{baseUrl}}"], "path": ["api", "tasks"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Task 1\",\n  \"description\": \"Task description\",\n  \"assignedTo\": \"<employeeId>\",\n  \"project\": \"<projectId>\",\n  \"dueDate\": \"2024-07-01\",\n  \"priority\": \"medium\",\n  \"status\": \"pending\"\n}"
            }
          }
        },
        {
          "name": "Get All Tasks",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/tasks", "host": ["{{baseUrl}}"], "path": ["api", "tasks"] }
          }
        },
        {
          "name": "Get Task By ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/tasks/:id", "host": ["{{baseUrl}}"], "path": ["api", "tasks", ":id"] }
          }
        },
        {
          "name": "Update Task",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/tasks/:id", "host": ["{{baseUrl}}"], "path": ["api", "tasks", ":id"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"completed\"\n}"
            }
          }
        },
        {
          "name": "Delete Task",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/tasks/:id", "host": ["{{baseUrl}}"], "path": ["api", "tasks", ":id"] }
          }
        }
      ]
    },
    {
      "name": "Dashboard",
      "item": [
        {
          "name": "Get Dashboard Data",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/api/dashboard", "host": ["{{baseUrl}}"], "path": ["api", "dashboard"] }
          }
        }
      ]
    },
    {
      "name": "API Keys (Admin Only)",
      "item": [
        {
          "name": "Generate API Key",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/apikeys/generate", "host": ["{{baseUrl}}"], "path": ["api", "apikeys", "generate"] }
          },
          "response": [
            {
              "name": "201 Created",
              "originalRequest": {},
              "status": "Created",
              "code": 201,
              "body": "{\n  \"apiKey\": \"...\"\n}"
            }
          ]
        },
        {
          "name": "Revoke API Key",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/apikeys/revoke", "host": ["{{baseUrl}}"], "path": ["api", "apikeys", "revoke"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"key\": \"{{apiKey}}\"\n}"
            }
          }
        },
        {
          "name": "Rotate API Key",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/apikeys/rotate", "host": ["{{baseUrl}}"], "path": ["api", "apikeys", "rotate"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"key\": \"{{apiKey}}\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "External API Key Usage Example",
      "item": [
        {
          "name": "Get Employees (API Key)",
          "request": {
            "method": "GET",
            "header": [
              { "key": "x-api-key", "value": "{{apiKey}}" }
            ],
            "url": { "raw": "{{baseUrl}}/api/employees", "host": ["{{baseUrl}}"], "path": ["api", "employees"] }
          },
          "description": "Use this endpoint with x-api-key header instead of Authorization."
        }
      ]
    }
  ]
}